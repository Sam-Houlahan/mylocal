H.util.eval("var rl={};function sl(a){var b=a.ownerDocument,b=b.documentElement||b.body.parentNode||b.body,c;try{c=a.getBoundingClientRect()}catch(d){c={top:0,right:0,bottom:0,left:0,height:0,width:0}}return{x:c.left+(\"number\"===typeof window.pageXOffset?window.pageXOffset:b.scrollLeft),y:c.top+(\"number\"===typeof window.pageYOffset?window.pageYOffset:b.scrollTop)}}var tl=/Edge\\/\\d+/.test(navigator.appVersion),ul=Function(\"return this\")();function vl(a,b,c,d,e,f,g){vl.v.constructor.call(this,a);this.pointers=b;this.changedPointers=c;this.targetPointers=d;this.currentPointer=e;this.originalEvent=g;this.target=f}v(vl,Ac);r(\"H.mapevents.Event\",vl);function wl(a,b,c,d,e,f){if(isNaN(a))throw Error(\"x needs to be a number\");if(isNaN(b))throw Error(\"y needs to be a number\");if(isNaN(c))throw Error(\"pointer must have an id\");this.viewportX=a;this.viewportY=b;this.target=null;this.id=c;this.type=d;this.dragTarget=null;this.a=this.button=e!==A?e:-1;this.buttons=f!==A?f:0}r(\"H.mapevents.Pointer\",wl);\nfunction xl(a,b,c){if(isNaN(b))throw Error(\"x needs to be a number\");if(isNaN(c))throw Error(\"y needs to be a number\");a.viewportX=b;a.viewportY=c}wl.prototype.c=function(){return this.a};wl.prototype.getLastChangedButton=wl.prototype.c;function yl(a,b){a.a=b;a.buttons|=wl.prototype.b[+b]||0}function zl(a,b){a.a=b;a.buttons&=~(wl.prototype.b[+b]||0)}wl.prototype.b=[1,4,2];var Al={NONE:-1,LEFT:0,MIDDLE:1,RIGHT:2};wl.Button=Al;function Bl(a){this.a=a instanceof Array?a.slice(0):[]}p=Bl.prototype;p.clear=function(){this.a.splice(0,this.a.length)};p.length=function(){return this.a.length};p.indexOf=function(a){for(var b=this.a.length;b--;)if(this.a[b].id===a)return b;return-1};function Cl(a,b){var c=a.indexOf(b);return-1!==c?a.a[c]:null}p.remove=function(a){a=this.indexOf(a);return-1!==a?this.a.splice(a,1)[0]:null};function Dl(a,b){for(var c=a.a.length,d=[];c--;)a.a[c].type!==b&&d.push(a.a[c]);a.a=d}\nfunction El(a,b){for(var c=a.a.length;c--;)if(a.a[c].dragTarget===b)return!0;return!1}p.push=function(a){if(a instanceof wl)return this.a.push(a);throw Error(\"list needs a pointer\");};p.clone=function(){return new Bl(this.a)};function Fl(a,b,c){c=c||{};if(!(a instanceof Q))throw Error(\"events: map instance required\");if(!(b instanceof Array))throw Error(\"events: map array required\");wc.call(this);this.C=c.Hi||300;this.P=c.Gi||50;this.O=c.Ki||50;this.V=c.Li||500;this.N=c.Ji||900;this.S=c.Ii||50;this.map=a;this.l=this.map.va;this.j=this.l.element;this.A=b;this.a=new Bl;this.c=new Bl;this.i={};this.f=null;this.s=!0;this.u={};this.m={};this.o=null;this.Vc=z(this.Vc,this);this.I={pointerdown:this.Ch,pointermove:this.Dh,pointerup:this.Eh,\npointercancel:this.Bh};Gl(this)}v(Fl,wc);function Gl(a,b){for(var c,d,e=0,f=a.A.length,e=0;e<f;e++)d=a.A[e],c=d.listener,\"function\"===typeof c&&(b?(d.target||a.j).removeEventListener(d.La,c):(d.target||a.j).addEventListener(d.La,c))}\nfunction Hl(a,b,c){var d,e=a.I[b],f,g;if(\"function\"===typeof e)for(\"pointermove\"!==b&&(a.s=!0),f=0,g=a.c.length();f<g;f++)b=a.c.a[f],a.j.contains(c.target)?(d=a,d=d.f===b?b.target:0<=b.viewportX&&b.viewportX<d.l.width&&0<=b.viewportY&&b.viewportY<d.l.height?d.map.s(b.viewportX,b.viewportY)||d.map:null):d=null,Il(b.id,a.u),e.call(a,b,d,c);a.c.clear()}p=Fl.prototype;\np.Eh=function(a,b,c){a.target=b;Jl(this,a,c);Kl(this,b,\"pointerup\",c,a);\"mouse\"!==a.type&&Kl(this,b,\"pointerleave\",c,a);b=this.i[a.id];var d={x:a.viewportX,y:a.viewportY},e=c.timeStamp,f=a.target,g=this.o;b&&b.target===f&&b.re.distance(d)<this.O&&e-b.wf<this.V?(Kl(this,f,\"tap\",c,a),g&&g.target===f&&e-g.wf<this.C?g.re.distance({x:a.viewportX,y:a.viewportY})<this.P&&(Kl(this,f,\"dbltap\",c,a),this.o=null):this.o={target:f,re:new M(a.viewportX,a.viewportY),wf:c.timeStamp}):this.o=null;this.i={};Il(a.id,\nthis.m)};function Jl(a,b,c){b===a.f&&(Kl(a,b.dragTarget,\"dragend\",c,b),a.f=null,Il(b.id,a.u));b.dragTarget=null}p.Vc=function(a,b){var c=this;Kl(this,a.dragTarget,\"drag\",b,a);Il(a.id,this.u);this.u[a.id]=setTimeout(function(){c.Vc(a,b)},150)};function Il(a,b){b[a]&&(clearTimeout(b[a]),delete b[a])}\nfunction Ll(a,b,c){var d=b.target,e=new M(b.viewportX,b.viewportY),f=b.id;Il(f,a.m);a.m[f]=setTimeout(function(){d&&d===b.target&&e.distance({x:b.viewportX,y:b.viewportY})<a.S&&(Kl(a,d,\"longpress\",c,b),delete a.i[b.id])},a.N)}\np.Dh=function(a,b,c){var d=a.dragTarget,e=a.id,f;f=a.target;a.target=b;f!==b&&(Kl(this,f,\"pointerleave\",c,a),Kl(this,b,\"pointerenter\",c,a));d?this.f?this.Vc(a,c):this.s?this.s=!1:(this.f=a,Kl(this,d,\"dragstart\",c,a),this.Vc(a,c),delete this.i[e],this.s=!0):(!this.f||this.f&&this.f.dragTarget!==b&&this.f.dragTarget!==this.map)&&Kl(this,b,\"pointermove\",c,a)};\np.Ch=function(a,b,c){var d=!(/^(?:mouse|pen)$/.test(a.type)&&0!==c.button),e;b&&(a.target=b,this.i[a.id]={re:new M(a.viewportX,a.viewportY),target:a.target,wf:c.timeStamp},\"mouse\"!==a.type&&Kl(this,b,\"pointerenter\",c,a),e=Kl(this,b,\"pointerdown\",c,a),!this.f&&d&&(b.draggable&&!El(this.a,b)?a.dragTarget=b:!this.map.draggable||e.defaultPrevented||El(this.a,this.map)||(a.dragTarget=this.map)),Ll(this,a,c))};\np.Bh=function(a,b,c){a.target=null;b?(Kl(this,b,\"pointerleave\",c,a),Kl(this,b,\"pointercancel\",c,a)):Kl(this,this.map,\"pointercancel\",c,a);Jl(this,a,c);this.i={};Il(a.id,this.m)};function Kl(a,b,c,d,e){var f;if(b&&\"function\"===typeof b.dispatchEvent){f=vl;var g=a.a.a,h=a.c.a;a=a.a;var k,l=a.a.length,m=[];for(k=0;k<l;k++)a.a[k].target===b&&m.push(a.a[k]);f=new f(c,g,h,m,e,b,d);e.button=/^(?:longpress|(?:dbl)?tap|pointer(?:down|up))$/.test(c)?e.a:Al.NONE;b.dispatchEvent(f)}return f}\np.F=function(){Gl(this,!0);this.a.clear();this.c.clear();var a=this.u,b;for(b in a)Il(b,a);var a=this.m,c;for(c in a)Il(c,a);this.f=this.i=this.o=this.map=this.c=this.a=this.A=this.b=null;wc.prototype.F.call(this)};function Ml(a){this.g=z(this.g,this);Fl.call(this,a,[{La:\"touchstart\",listener:this.g},{La:\"touchmove\",listener:this.g},{La:\"touchend\",listener:this.g},{La:\"touchcancel\",listener:this.g}]);this.D={touchstart:\"pointerdown\",touchmove:\"pointermove\",touchend:\"pointerup\",touchcancel:\"pointercancel\"};this.B=(a=(a=a.l)?a.b:null)?Array.prototype.slice.call(a.querySelectorAll(\"a\"),0):[]}v(Ml,Fl);\nMl.prototype.g=function(a){var b=a.touches,c=this.a.length(),d;if(\"touchstart\"===a.type&&c>=b.length){c=this.a.clone();for(d=b.length;d--;)c.remove(b[d].identifier);for(d=c.length();d--;)this.a.remove(c.a[d].id);this.c=c;Hl(this,\"pointercancel\",a);this.c.clear()}if(this.D[a.type]){b=sl(this.l.element);c=a.type;d=a.changedTouches;var e=d.length,f,g,h,k,l,m;this.c.clear();for(m=0;m<e;m++)if(h=d[m],l=Cl(this.a,h.identifier),f=h.pageX-b.x,g=h.pageY-b.y,l)if(\"touchmove\"===c){if(h=Math.abs(l.viewportX-\nf),k=Math.abs(l.viewportY-g),1<h||1<k||1===h&&1===k)xl(l,f,g),this.c.push(l)}else\"touchend\"===c&&(this.a.remove(l.id),this.c.push(l),zl(l,Al.LEFT));else l=new wl(f,g,h.identifier,\"touch\",Al.LEFT,1),this.a.push(l),this.c.push(l);Hl(this,this.D[a.type],a);-1===this.B.indexOf(a.target)&&a.preventDefault()}};Ml.prototype.F=function(){this.B=null;Fl.prototype.F.call(this)};function Nl(a){var b=[],b=Ol(this);(navigator.pointerEnabled||navigator.msPointerEnabled)&&b.push({La:\"MSHoldVisual\",listener:\"prevent\"});Fl.call(this,a,b)}v(Nl,Fl);function Ol(a){var b=navigator.pointerEnabled,c,d,e=[];a.g=z(a.g,a);\"MSPointerDown MSPointerMove MSPointerUp MSPointerCancel MSPointerOut MSPointerOver\".split(\" \").forEach(function(f){c=f.toLowerCase().replace(/ms/g,\"\");d=b?c:f;e.push({La:d,listener:a.g,target:\"MSPointerUp\"===f||\"MSPointerMove\"===f?window:null})});return e}\nvar Pl={2:\"touch\",3:\"pen\",4:\"mouse\"};\nNl.prototype.g=function(a){var b=navigator.gi?a.type:a.type.toLowerCase().replace(/ms/g,\"\"),c=sl(this.j),d=Cl(this.a,a.pointerId),e=a.pageX-c.x,c=a.pageY-c.y,f=Pl[a.pointerType]||a.pointerType;tl&&\"rtl\"===w.getComputedStyle(this.l.element).direction&&(e-=(w.devicePixelRatio-1)*this.l.width);if(!(d||b in{pointerup:1,pointerout:1,pointercancel:1}||\"touch\"===f&&\"pointerdown\"!==b)){var d={x:e,y:c},g=a.pointerType;\"number\"===typeof g&&(g=Pl[g]);d=new wl(d.x,d.y,a.pointerId,g,a.button,a.buttons);this.a.push(d)}d&&\n(b in{pointerup:1,pointercancel:1}?(\"touch\"===f&&this.a.remove(d.id),zl(d,a.button)):\"pointerdown\"===b&&(\"touch\"===a.pointerType&&(Dl(this.a,\"mouse\"),Dl(this.a,\"pen\")),yl(d,a.button)),this.c.push(d),\"pointermove\"!==b?(xl(d,e,c),Hl(this,\"pointerout\"===b||\"pointerover\"===b?\"pointermove\":b,a)):d.viewportX===e&&d.viewportY===c||a.target===document.documentElement||(xl(d,e,c),Hl(this,b,a)));this.c.clear()};function Ql(a,b,c,d){Ql.v.constructor.call(this,\"contextmenu\");this.items=[];this.viewportX=a;this.viewportY=b;this.target=c;this.originalEvent=d}v(Ql,Ac);r(\"H.mapevents.ContextMenuEvent\",Ql);function Rl(a){this.Ce=z(this.Ce,this);this.Ee=z(this.Ee,this);this.De=z(this.De,this);this.B=!1;this.g=-1;this.D=0;Rl.v.constructor.call(this,a,[{La:\"contextmenu\",listener:this.Ce},{target:a,La:\"longpress\",listener:this.Ee},{target:a,La:\"dbltap\",listener:this.De}])}v(Rl,Fl);p=Rl.prototype;p.Ee=function(a){var b=a.currentPointer;\"touch\"===b.type&&1===a.pointers.length&&Sl(this,b.viewportX,b.viewportY,a.originalEvent,a.target)};p.De=function(a){\"touch\"===a.currentPointer.type&&(this.D=Date.now())};\np.Ce=function(a){var b=this;-1===this.g?this.g=setTimeout(function(){var c=sl(b.j),d=a.pageX-c.x,c=a.pageY-c.y;b.g=-1;Sl(b,d,c,a)},this.C):(clearInterval(this.g),this.g=-1);a.preventDefault()};function Sl(a,b,c,d,e){var f=a.map;e=e||f.s(b,c)||f;var g=Date.now()-a.D;!a.B&&g>a.N&&(a.B=!0,e.dispatchEvent(new Ql(b,c,e,d)),pi(f.b,a.Ff,a.Uf,!1,a))}p.Ff=[\"mousedown\",\"touchstart\",\"pointerdown\",\"wheel\"];p.Uf=function(){this.B&&(this.B=!1,this.map.dispatchEvent(new Ac(\"contextmenuclose\",this.map)))};\np.F=function(){var a=this.map.b;clearInterval(this.g);a&&ri(a,this.Ff,this.Uf,!1,this);Fl.prototype.F.call(this)};function Tl(a,b,c,d,e){Tl.v.constructor.call(this,\"wheel\");this.delta=a;this.viewportX=b;this.viewportY=c;this.target=d;this.originalEvent=e}v(Tl,Ac);r(\"H.mapevents.WheelEvent\",Tl);function Ul(a){var b=\"onwheel\"in document;this.K=b;this.D=(b?\"d\":\"wheelD\")+\"elta\";this.g=z(this.g,this);Ul.v.constructor.call(this,a,[{La:(b?\"\":\"mouse\")+\"wheel\",listener:this.g}]);this.B=this.map.va}v(Ul,Fl);\nUl.prototype.g=function(a){var b=sl(this.j),c;c=a.pageX-b.x;var b=a.pageY-b.y,d=this.D,e=a[d+(d+\"Y\"in a?\"Y\":\"\")],f,g,h;tl&&\"rtl\"===w.getComputedStyle(this.B.element).direction&&(c-=(w.devicePixelRatio-1)*this.B.width);e&&(h=Math.abs,f=h(e),e=(!(g=a[d+\"X\"])||3<=f/h(g))&&(!(g=a[d+\"Z\"])||3<=f/h(g))?((0<e)-(0>e))*(this.K?1:-1):0);a=new Tl(e,c,b,null,a);a.delta&&((a.target=c=this.map.Ma(a.viewportX,a.viewportY)[0])&&sa(c.dispatchEvent)&&c.dispatchEvent(a),a.defaultPrevented||this.map.dispatchEvent(a))};function Vl(a){var b=window;this.g=z(this.g,this);Fl.call(this,a,[{La:\"mousedown\",listener:this.g},{La:\"mousemove\",listener:this.g,target:b},{La:\"mouseup\",listener:this.g,target:b},{La:\"mouseover\",listener:this.g},{La:\"mouseout\",listener:this.g},{La:\"dragstart\",listener:this.B}])}v(Vl,Fl);\nVl.prototype.g=function(a){var b=a.type,c=sl(this.j),c={x:a.pageX-c.x,y:a.pageY-c.y},d;(d=this.a.a[0])||(d=new wl(c.x,c.y,1,\"mouse\"),this.a.push(d));this.c.push(d);xl(d,c.x,c.y);/^mouse(?:move|over|out)$/.test(b)?Hl(this,\"pointermove\",a):(/^mouse(down|up)$/.test(b)&&(c=a.which-1,\"up\"===ul.RegExp.$1?zl(d,c):yl(d,c)),Hl(this,b.replace(\"mouse\",\"pointer\"),a));this.c.clear()};Vl.prototype.B=function(a){a.preventDefault()};function Wl(a){var b=a.va.element.style;if(-1!==Xl.indexOf(a))throw Error(\"InvalidArgument: map is already in use\");this.a=a;Xl.push(a);b.msTouchAction=b.touchAction=\"none\";this.f=this.g=this.b=this.c=null;navigator.msPointerEnabled||navigator.pointerEnabled?this.c=new Nl(this.a):(this.c=new Ml(this.a),this.b=new Vl(this.a));this.g=new Ul(this.a);this.f=new Rl(this.a);this.a.Db(this.J,this);wc.call(this)}v(Wl,wc);r(\"H.mapevents.MapEvents\",Wl);var Xl=[];\nWl.prototype.J=function(){this.a=null;this.c.J();this.g.J();this.f.J();this.b&&this.b.J();Xl.splice(Xl.indexOf(this.a),1);wc.prototype.J.call(this)};Wl.prototype.dispose=Wl.prototype.J;Wl.prototype.i=function(){return this.a};Wl.prototype.getAttachedMap=Wl.prototype.i;function Yl(a,b){if(-1!==Zl.indexOf(a))throw new C(Yl,0,\"events are already used\");var c=b||{},d;wc.call(this);this.a=d=a.a;this.o=a;Zl.push(a);d.draggable=!0;this.i=c.kinetics||{duration:600,xe:Hj};this.j=7;this.enable(c.enabled||this.j);c=Q.EngineType;this.c=d.va;this.f=this.c.element;this.l=c.P2D;d.addEventListener(\"dragstart\",this.mg,!1,this);d.addEventListener(\"drag\",this.Dg,!1,this);d.addEventListener(\"dragend\",this.Eg,!1,this);d.addEventListener(\"wheel\",this.Gg,!1,this);d.addEventListener(\"dbltap\",\nthis.Cg,!1,this);d.addEventListener(\"tap\",this.Fg,!1,this);d.addEventListener(\"pointermove\",this.Kg,!1,this);qi(this.f,\"contextmenu\",this.Bg,!1,this);a.Db(this.J,this)}v(Yl,wc);r(\"H.mapevents.Behavior\",Yl);var Zl=[];Yl.prototype.b=0;Yl.DRAGGING=1;Yl.WHEELZOOM=2;Yl.DBLTAPZOOM=4;p=Yl.prototype;\np.mg=function(a){var b=a.pointers,c=this.c;a=b[0];b=b[1]||{};if(this.b&1&&(c.startInteraction(17,this.i),c.interaction(a.viewportX,a.viewportY,b.viewportX,b.viewportY),this.b&2)){c=a.viewportX;a=a.viewportY;var d;this.g&&(b=this.a.getZoom(),d=Math[0>this.g?\"ceil\":\"floor\"](b),b!==d&&(this.g=null,this.zoom(b,d,c,a)))}};p.Dg=function(a){var b=a.pointers[0],c=a.pointers[1]||rl;this.b&1&&(this.c.interaction(b.viewportX,b.viewportY,c.viewportX,c.viewportY),a.originalEvent.preventDefault())};\np.Eg=function(){this.b&1&&this.c.endInteraction(!this.i)};p.zoom=function(a,b,c,d){var e=this.a.c;if(isNaN(+a))throw Error(\"start zoom needs to be a number\");if(isNaN(+b))throw Error(\"to zoom needs to be a number\");0!==+b-+a&&(e.startControl(null,c,d),e.control(0,0,.006),e.endControl(!0,function(a){a.zoom=b}))};\np.Gg=function(a){var b,c,d,e;this.b&2&&(b=a.delta,c=this.a.getZoom(),e=Math[0>b?\"ceil\":\"floor\"](c-b),d=this.a,d.g().type===this.l?(this.zoom(c,e,a.viewportX,a.viewportY),this.g=b):(c=this.a.c.zb(),c.fov+=16*b,d.c.Ib(c)),a.originalEvent.preventDefault())};p.Fg=function(a){a=a.currentPointer;this.a.g().type===Li&&(a=this.a.Ua(a.viewportX,a.viewportY),this.a.c.Ib(a))};p.Kg=function(a){a=a.currentPointer;this.a.g().Aa(a.viewportX,a.viewportY)};\np.Cg=function(a){var b=a.currentPointer,c=this.a.getZoom(),d=a.currentPointer.type;this.l===this.a.g().type&&(a=\"mouse\"===d?0===a.originalEvent.button?-1:1:0<a.pointers.length?1:-1,a=Math[0>a?\"ceil\":\"floor\"](c-a),this.b&4&&this.zoom(c,a,b.viewportX,b.viewportY))};p.Bg=function(a){return this.b&4?(a.preventDefault(),!1):!0};\np.J=function(){var a=this.a;a&&(a.draggable=!1,a.removeEventListener(\"dragstart\",this.mg,!1,this),a.removeEventListener(\"drag\",this.Dg,!1,this),a.removeEventListener(\"dragend\",this.Eg,!1,this),a.removeEventListener(\"wheel\",this.Gg,!1,this),a.removeEventListener(\"tap\",this.Fg,!1,this),a.removeEventListener(\"dbltap\",this.Cg,!1,this),a.removeEventListener(\"pointermove\",this.Kg,!1,this),this.a=null);this.f&&(this.f.style.msTouchAction=\"\",ri(this.f,\"contextmenu\",this.Bg,!1,this),this.f=null);this.i=this.c=\nnull;Zl.splice(Zl.indexOf(this.o),1);wc.prototype.J.call(this)};Yl.prototype.dispose=Yl.prototype.J;Yl.prototype.disable=function(a){this.c.endInteraction(!0);a?this.b&a&&(this.b-=a,a&1&&(this.a.draggable=!1)):(this.b=0,this.a.draggable=!1)};Yl.prototype.disable=Yl.prototype.disable;Yl.prototype.enable=function(a){a?this.b&a||(this.b+=a,a&1&&(this.a.draggable=!0)):(this.b=this.j,this.a.draggable=!0)};Yl.prototype.enable=Yl.prototype.enable;\nYl.prototype.m=function(a){if(isNaN(a))throw Error(\"behavior: number required\");return!!(this.b&a)};Yl.prototype.isEnabled=Yl.prototype.m;r(\"H.mapevents.buildInfo\",function(){return Ah(\"mapsjs-mapevents\",\"0.15.0\",\"ed0390e\")});\n");